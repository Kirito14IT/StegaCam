# ✅ Dev版本APK构建成功！

## APK文件位置

**文件路径**：
```
client\android\app\build\outputs\apk\debug\app-debug.apk
```

## 下一步操作

### 1. 传输APK到手机

**方式一：USB传输**
- 使用USB线连接手机
- 将APK文件复制到手机
- 在手机上打开文件管理器，找到APK文件并安装

**方式二：无线传输**
- 使用微信/QQ等工具传输
- 或使用局域网文件共享
- 或上传到云盘后下载

### 2. 安装APK

在手机上：
1. 打开文件管理器
2. 找到 `app-debug.apk` 文件
3. 点击安装（可能需要允许"未知来源"安装）
4. 等待安装完成

### 3. 启动后端服务器

**终端1 - 后端服务器**：
```powershell
conda activate stega-tf210
.\start_dev.ps1
```

等待看到：
```
FastAPI服务器已启动: http://localhost:8080
```

### 4. 启动前端Expo服务器（显示二维码）

**终端2 - 前端服务器**：
```powershell
cd client
npm start
```

等待看到：
- 二维码（在终端中）
- Metro服务器地址（如 `http://192.168.x.x:8081`）

### 5. 在手机上连接

**使用开发客户端（已安装的APK）**：
1. 打开手机上安装的 StegaCam 应用
2. 应用会自动连接到Expo开发服务器
3. 如果连接失败，在应用中配置服务器地址

**配置服务器地址**（如果需要）：
- 本地测试：`http://192.168.x.x:8080`（替换为你的电脑IP）
- 外网测试：`http://47.101.142.85:6100`（如果启动了frpc）

## 重要提示

1. **开发客户端**：这个APK是开发版本，需要连接Expo开发服务器才能运行
2. **服务器地址**：确保手机和电脑在同一WiFi网络（局域网模式）
3. **防火墙**：确保Windows防火墙允许8080和8081端口
4. **首次使用**：应用会显示登录界面，使用邮箱注册新账号

## 测试流程

1. ✅ APK已构建完成
2. ⏳ 传输APK到手机并安装
3. ⏳ 启动后端服务器
4. ⏳ 启动前端Expo服务器
5. ⏳ 在手机上打开应用
6. ⏳ 注册新账号（邮箱注册）
7. ⏳ 测试编码/解码功能

## 如果遇到问题

### APK安装失败
- 检查是否允许"未知来源"安装
- 检查Android版本兼容性（最低Android 7.0）

### 应用无法连接服务器
- 检查后端服务器是否运行
- 检查前端Expo服务器是否运行
- 检查手机和电脑是否在同一WiFi
- 检查防火墙设置

### 登录失败
- 确保后端服务器正常运行
- 检查服务器地址配置
- 查看服务器日志获取错误信息

## 构建信息

- **构建类型**：Debug（开发版本）
- **包含功能**：所有最新功能（邮箱注册、认证、操作日志等）
- **签名**：Debug签名（仅用于开发测试）

